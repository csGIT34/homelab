# PostgreSQL Client Authentication — Managed by Ansible
#
# TYPE  DATABASE  USER  ADDRESS        METHOD

# Local connections
local   all       postgres               peer
local   all       all                    peer

# IPv4 local connections
host    all       all   127.0.0.1/32     scram-sha-256

# IPv6 local connections
host    all       all   ::1/128          scram-sha-256

# Kubernetes VLAN (10.0.20.0/24) — allow app connections
host    all       all   10.0.20.0/24     scram-sha-256

# Management VLAN (10.0.10.0/24) — allow admin connections
host    all       all   10.0.10.0/24     scram-sha-256
